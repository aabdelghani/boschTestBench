\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md1}{}\doxysection{Table of Contents}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md1}

\begin{DoxyEnumerate}
\item \href{\#overview}{\texttt{ Overview}}
\item \href{\#hardware-requirements}{\texttt{ Hardware Requirements}}
\item \href{\#software-requirements}{\texttt{ Software Requirements}}
\item \href{\#configuration}{\texttt{ Configuration}}
\item \href{\#frequency-and-time-period-details}{\texttt{ Frequency and Time Period Details}}
\item \href{\#how-to-use}{\texttt{ How to Use}}
\item \href{\#code-explanation}{\texttt{ Code Explanation}}
\item \href{\#notes}{\texttt{ Notes}}
\item \href{\#visual-representation}{\texttt{ Visual Representation}}
\item \href{\#side-note-setting-the-compare-match-register-for-1khz-frequency}{\texttt{ Side Note\+: Setting the Compare Match Register for 1k\+Hz Frequency}}
\begin{DoxyItemize}
\item \href{\#timer-and-compare-match-register}{\texttt{ Timer and Compare Match Register}}
\item \href{\#setting-up-for-1khz-frequency}{\texttt{ Setting Up for 1k\+Hz Frequency}}
\item \href{\#2khz-frequency}{\texttt{ 2k\+Hz Frequency}}
\item \href{\#5khz-frequency}{\texttt{ 5k\+Hz Frequency}}
\item \href{\#0.5hz-frequency}{\texttt{ 0.\+5\+Hz Frequency}}
\item \href{\#what-happens-at-runtime}{\texttt{ What Happens at Runtime}}
\end{DoxyItemize}
\end{DoxyEnumerate}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md2}{}\doxysubsection{Overview}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md2}
This Arduino sketch generates a Pulse Width Modulation (PWM) signal using Timer1 interrupts. It allows selecting predefined frequencies for the PWM signal, providing precise control suitable for LED dimming, motor control, and signal generation.\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md3}{}\doxysubsection{Hardware Requirements}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md3}

\begin{DoxyItemize}
\item Arduino Uno or similar AVR-\/based board
\item LED
\item 220 Ohm resistor
\item Breadboard and jumper wires
\end{DoxyItemize}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md4}{}\doxysubsection{Software Requirements}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md4}

\begin{DoxyItemize}
\item Arduino IDE for uploading the sketch to the Arduino board
\end{DoxyItemize}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md5}{}\doxysubsection{Configuration}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md5}

\begin{DoxyItemize}
\item {\bfseries{PWM Pin}}\+: The sketch uses digital pin 9 on the Arduino for PWM output, compatible with Timer1.
\item {\bfseries{Predefined Frequencies}}\+: The sketch provides selectable frequencies of 1k\+Hz, 2k\+Hz, 5k\+Hz, and 0.\+5\+Hz, each with a corresponding time period.
\end{DoxyItemize}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md6}{}\doxysubsection{Frequency and Time Period Details}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md6}

\begin{DoxyItemize}
\item {\bfseries{1k\+Hz (1,000 Hz)}}\+: Time period = 1 millisecond (ms)
\item {\bfseries{2k\+Hz (2,000 Hz)}}\+: Time period = 0.\+5 milliseconds (ms)
\item {\bfseries{5k\+Hz (5,000 Hz)}}\+: Time period = 0.\+2 milliseconds (ms)
\item {\bfseries{0.\+5\+Hz}}\+: Time period = 2,000 milliseconds (ms)
\end{DoxyItemize}

These time periods represent the duration of one complete cycle of the PWM signal at each frequency.\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md7}{}\doxysubsection{How to Use}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md7}

\begin{DoxyEnumerate}
\item {\bfseries{Connect the Hardware}}\+: Connect the LED and resistor in series between pin 9 and GND on the Arduino.
\item {\bfseries{Set the Desired Frequency}}\+: Open the sketch in the Arduino IDE and select the desired frequency by setting the {\ttfamily FREQUENCY} definition at the top of the sketch (e.\+g., {\ttfamily \#define FREQUENCY FREQ\+\_\+1\+KHZ}).
\item {\bfseries{Upload the Sketch}}\+: Connect the Arduino to your computer and upload the sketch using the Arduino IDE.
\item {\bfseries{Observe the PWM Signal}}\+: The connected LED will display the PWM effect at the selected frequency and corresponding time period.
\end{DoxyEnumerate}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md8}{}\doxysubsection{Code Explanation}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md8}

\begin{DoxyItemize}
\item {\bfseries{Timer1 Setup}}\+: Configures Timer1 in Clear Timer on Compare Match (CTC) mode, with the compare match register (OCR1A) value set based on the selected frequency and corresponding time period.
\item {\bfseries{Interrupt Service Routine (ISR)}}\+: {\ttfamily TIMER1\+\_\+\+COMPA\+\_\+vect} ISR toggles the LED pin at each timer compare match, creating the PWM signal.
\item {\bfseries{Frequency Selection}}\+: Use {\ttfamily \#define FREQUENCY} to select the PWM frequency. Available options and their corresponding time periods are defined at the beginning of the sketch.
\end{DoxyItemize}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md9}{}\doxysubsection{Notes}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md9}

\begin{DoxyItemize}
\item Frequency values and time periods are calculated based on a 16MHz clock. Adjust these values if using a different clock or prescaler.
\item The code is intended for Arduino Uno and similar AVR-\/based boards.
\end{DoxyItemize}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md10}{}\doxysubsection{Visual Representation}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md10}
For a visual representation and simulation of the circuit used in this project, visit the following Tinkercad link\+: \href{https://www.tinkercad.com/things/abLLm7h7TJJ-funky-juttuli/editel?sharecode=Xo09mCwedb-p-YJO-K1cbwH3dxxOUjxbuBEUPvEbV6E}{\texttt{ Tinkercad Circuit Simulation}}. This simulation provides an interactive way to understand how the components are connected and how the PWM signal affects the circuit.\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md11}{}\doxysubsection{Side Note\+: Setting the Compare Match Register for Several Frequencies}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md11}
The line in the code {\ttfamily // Set compare match register to desired timer count for 1k\+Hz frequency} is a crucial part of setting up the Timer1 interrupt in the Arduino. Let\textquotesingle{}s break down this concept for a clearer understanding.\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md12}{}\doxysubsubsection{Timer and Compare Match Register}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md12}
{\bfseries{Timer Functionality\+:}} In microcontrollers like the Arduino, timers are used for various time-\/related functions. They can be used for creating delays, measuring time intervals, generating signals, etc. Timers count up (or down) at a specific rate determined by the microcontroller\textquotesingle{}s clock frequency and the timer\textquotesingle{}s prescaler setting.

{\bfseries{Compare Match Register (OCR1A)\+:}} The Output Compare Register for Timer1 (OCR1A in this case) is used to set a specific value at which the timer will trigger an action. When the timer\textquotesingle{}s count matches the value in the OCR1A register, an interrupt can be generated (if enabled). This is known as a Compare Match.

the line of code that sets the OCR1A register determines the desired frequency for the interrupt. Here\textquotesingle{}s how it works for each frequency\+:\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md13}{}\doxysubsubsection{Setting Up for 1k\+Hz Frequency}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md13}
The Arduino Uno (and similar models) use a 16MHz clock. This is the base frequency from which the timer counts are derived.

The line of code in question sets the OCR1A register to create a specific frequency for the interrupt. In this case, the goal is to achieve a frequency of 1 k\+Hz (1,000 cycles per second).

To calculate the value to load into OCR1A\+:


\begin{DoxyEnumerate}
\item {\bfseries{Choose a Prescaler\+:}} A prescaler scales down the clock frequency. For instance, a prescaler of 8 will divide the 16MHz clock by 8, resulting in a 2MHz timer clock frequency.
\item {\bfseries{Calculate the Timer Count\+:}} The formula to calculate the value to be put into the OCR1A register for a desired frequency is\+:

{\ttfamily OCR1A = (Timer Clock Frequency / Desired Interrupt Frequency) -\/ 1}
\item {\bfseries{Apply the Formula\+:}} For a 1k\+Hz frequency with a 2MHz timer clock (after prescaling by 8), the calculation would be\+:

{\ttfamily OCR1A = (2,000,000 / 1,000) -\/ 1 = 1999}
\end{DoxyEnumerate}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md14}{}\doxysubsubsection{2k\+Hz Frequency}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md14}

\begin{DoxyItemize}
\item Prescaler\+: 8
\item Calculation\+: {\ttfamily OCR1A = (2,000,000 / 2,000) -\/ 1 = 999}
\end{DoxyItemize}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md15}{}\doxysubsubsection{5k\+Hz Frequency}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md15}

\begin{DoxyItemize}
\item Prescaler\+: 8
\item Calculation\+: {\ttfamily OCR1A = (2,000,000 / 5,000) -\/ 1 = 399}
\end{DoxyItemize}\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md16}{}\doxysubsubsection{0.\+5\+Hz Frequency}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md16}

\begin{DoxyItemize}
\item Prescaler\+: 1024 (divides the 16MHz clock by 1024, resulting in a 15,625Hz timer clock)
\item Calculation\+: {\ttfamily OCR1A = (15,625 / 0.\+5) -\/ 1 = 31,249}
\end{DoxyItemize}

These calculations ensure that the timer generates interrupts at the specified frequencies, creating the desired PWM signals.\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md17}{}\doxysubsubsection{What Happens at Runtime}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md17}
Each time Timer1 counts to 1999 (starting from 0), the compare match interrupt ({\ttfamily TIMER1\+\_\+\+COMPA\+\_\+vect}) is triggered. This creates a regular interrupt at a frequency of 1k\+Hz. Inside the ISR (Interrupt Service Routine), you can then implement functionality that needs to run at this frequency, like toggling an LED to create a PWM signal.

In summary, setting the compare match register to the appropriate value based on the timer\textquotesingle{}s clock frequency and desired output frequency is a key step in utilizing timers for precise timing operations in microcontrollers.\hypertarget{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md18}{}\doxysubsection{Documentation}\label{md__c___test_bench_bosch_test_bench__r_e_a_d_m_e_autotoc_md18}
The complete Doxygen-\/generated documentation for this project can be found at \href{https://aabdelghani.github.io/boschTestBench/}{\texttt{ Bosch\+Test\+Bench Documentation}}. This documentation provides detailed insights into the structure and functionality of the code, making it easier for developers to understand and contribute to the project. 